[toc]
# CSS选择器、盒模型添加样式
## 为网页添加样式

### 术语解释

```
h1{
    color: red;
    background-color:lightblue;
    text-align: center;
    }
```
css规则=选择器+声明块

### 选择器
选择器：选中元素 
1. ID选择器：选中的是对应id值的元素 `#test{ };<p id="test">`      / 直接p#test也可以快速生成
2. 元素选择器:所有该元素样式都被修改 p{ }
3. 类选择器:应用类名被选中 `.test{ }; <p class="test (test2)">`  /直接p.test也可快速生成
3
### 声明块
出现在大括号中
声明块中包含很多声明(属性)，每一个声明(属性)表达了某一方面的样式

### css代码书写位置
1. 内部样式表
书写在头部style元素中
2. 内联样式表，元素样式表
直接书写在元素的style属性中
3. 外部样式表[推荐]
将样式书写到独立的css文件中，在头部中link引入链接外部文件
- 外部样式可以解决多页面样式重复的问题
- 有利于浏览器缓存，从而提高页面响应速度
- 有利于代码分离(HTML和CSS)，更容易阅读和维护

## 常见的样式声明

### color 
元素内部的文字颜色
**预设值**定义好的单词
**三原色，色值**光学三原色(红，绿，蓝)，每个颜色可以使用0-255之间数字来表达，色值
``` 
rgb(0,255,0)
hex(16进制)表示法:
```
黑：#000;
白：#fff;
红：#f00;
绿：#0f0;
淘宝红:#f40;
马尔斯绿#008c8c;

### background-color
元素背景颜色

背景颜色填充的是边框盒

### font-size
元素内部文字的尺寸大小
px:像素，简单理解为文字的高度占多少个像素
em：相对单位，相对于父元素的字体大小
每个元素必须有字体大小，如果没有声明，则直接使用父元素的字体大小，如果没有父元素(html)则使用基准字号

### font-weight
文字粗细程度，可以取值数字，可以取值为预设值
normal bold

### font-family
文字类型
必须用户计算机中存在的字体才会有效
使用多个字体以匹配不同环境(font-family:consolas,翩翩体-简，微软雅黑，Arial，sans-serif)/sans-serif,非衬线字体

###  font-style
字体样式，通常用它设置斜体
>i元素，em元素，默认样式，是倾斜字体。实际通常用i表示图标

### text-decoration
文本修饰，给文本加线。
例a元素del元素s元素

### text—indent
首行缩进 

### line-height
每行文本的高度，该值越大，每行文本的距离越大
设置行高为容器的高度，可以让单行文本垂直居中
行高可以设置为纯数字，表示相对于当前元素的字体大小

### width

### height

### letter-space
文字间隙

### text-align
元素内部文字的水平排列方式


## 选择器
选择器：帮助你精准的选中想要的元素
### 简单选择器
- ID选择器：选中的是对应id值的元素 `#test{ };<p id="test">`       /百
- 元素选择器:所有该元素样式都被修改 p{ }                          /个
- 类选择器:应用类名被选中 `.test{ }; <p class="test (test2)">`   /十
- 通配符选择器  *{ } 选中所有元素   
- 属性选择器：根据属性名和属性值选中元素 [href] {color:red;}       /十
- 伪类选择器:选中某些元素的某种状态                               /十
若有顺序书写 爱恨法则:love hate
1)link:超链接未访问时的状态
2)visited:访问后状态
3)hover:鼠标悬停  a:hover{color:red};
4)active:鼠标按下激活 

- 伪元素选择器                                                   /个
before  `span::before{content:"《";}`
after   `span::after{content:"》";}`



### 选择器的组合
1. 并且              p.red{  }  p元素还要带有.red才能生效(两个之间没有空格)
2. 后代元素—— 空格   后代元素间加空格.red li{ }
3. 子元素—— >        只能选中子元素才用>,不如后代空格方便
4. 相邻兄弟元素—— +  例.special+li{ } 只能是相邻后面一个li被改变
5. 兄弟元素—— ~     .special~li{ }  后面出现的所有元素都改变

### 选择器的并列
多个选择器，用逗号分隔，不会改变本质.语法糖。
只是方便书写代码方便记忆减轻书写代码的负担
```
.special~li,p,{
    color:#008c8c;
}
```
降低代码冗余度，方便修改样式


## 层叠

声明冲突：同一个样式，多次应用到同一个元素
层叠：解决声明冲突的过程(权重计算)

### 比较重要性
重要性从高到低：
- 作者样式表中的!important样式
- 作者样式表中的普通样式
- 浏览器默认样式表中的样式

### 比较特殊性

看选择器
总体规则：选择器选中的范围越窄，越特殊
具体规则：通过选择器，计算出一个4位数(xxxx)
哪个四位数越大越特殊
1. 千位：如果是内联样式(直接在标签里面加style)，记1，否则记0
2. 百位：选择器中所有id选择器的数量
3. 十位：选择器中所有类选择器，属性选择器，伪类选择器的数量
4. 个位：选择器中所有元素选择器，伪元素选择器的数量


### 比较源次序

代码书写靠后的胜出

### 应用
1. 重置样式表
书写一些作者样式，覆盖浏览器的默认样式
重置样式表->浏览器的默认样式
先引用重置样式表再引用自我样式
>通用
>常见重置样式表：normalize.css,reset.css,meyer.css

2. 爱恨法则
link> visited > hover > active

## 继承
container容器依次继承
子元素会继承父元素的某些css属性
通常，跟文字内容相关的属性都能被继承

## 属性值的计算过程
层叠和继承综合应用计算css权重

一个元素一个元素依次渲染，顺序按照页面文档的树形目录结构进行
渲染每个元素的前提条件：该元素的所有css属性必须有值
一个元素，从所有属性都没有值，到所有的属性都有值，这个计算过程，叫做属性值计算过程

无属性值->1.确定声明值->2.层叠冲突->3.使用继承->4使用默认值->每个属性都有值

- 确定声明值：先把没有冲突的先确定下来
- 层叠冲突：有冲突的声明使用层叠规则，4位数确定css属性 比较重要性，比较特殊性，比较源次序
- 使用继承：对仍然没有值的属性，若可以继承，则继承父元素的值
- 使用默认值：对仍然没有值的属性，若可以继承，则继承父元素的值


>特殊取值
>inherit:手动继承，将父元素的值取出应用到该元素
>initial:初始值，将该属性设置为默认值


## 盒模型

每个元素在页面在页面中都会生成一个矩形区域(盒子)
盒子类型：
1. 行盒，display等于inline的元素
2. 块盒，display等于block元素
行盒不换行，块盒独占一行
也就是行级元素和块级元素，现叫行盒和块盒

浏览器默认的样式设置的块盒：容器元素，h1~h6，p
常见行盒：span,a,img,video,audio

### 盒子的组成部分

无论是行盒还是块盒，都由以下四部分组成
从内到外分别是：
1. 内容   content
width,height,设置的是盒子内容的宽高
内容部分通常叫做整个盒子的**内容盒 content-box**
2. 填充(内边距)   padding
盒子边框到盒子内容的距离
padding-left,padding-right,padding-top,padding-bottom
padding:简写属性
padding:上 右 下 左
填充区+内容区=**填充盒 padding-box**

3. 边框   border
边框=边框样式+边框宽度+边框颜色

边框宽度：border-width
边框样式：border-style  /solid;
边框颜色：border-color

边框+填充区+内容盒=**边框盒 border-box**

速写属性border: 4px dashed red;

4. 外边距 margin

边框到其他盒子的距离
margin-left,margin-right,margin-top,margin-bottom

(示例知乎:关注问题，写答案，邀请回答)

## 盒模型应用

### 改变宽高范围
默认情况下，width和height设置的是内容盒宽高。
>页面重构师：将psd文件(设计稿)制作为静态页面
衡量设计稿尺寸的时候，往往使用的是边框盒，但设置width和height，则设置的是内容盒
两种解决方法 
- 精准计算
- css3：css3自动配置box-sizing:border-box;

### 改变背景覆盖范围
默认情况下，背景覆盖边框盒
可通过background-clip进行修改
取值：
border-box
content-box
padding-box
inherit
initial

### 溢出隐藏

overflow，控制内容溢出边框盒后处理方式
overflow-y:auto;
详见MDN

### 断词规则
word-break,会影响文字在什么位置被截断
break-all:截断所有，所有字符都在文字处截断
keep-all:保持所有，所有文字在单词之间截断

### 空白处理
多出文本以三个点显示
white-space:nowrap;
overflow:hidden;(超出外边距隐藏ss)
text-overflow:ellipsis;
控制单行文本

## 行盒盒模型
常见的行盒：包含具体内容的元素
span,strong,em,i,img,video,audio

### 显著特点
1. 盒子沿着内容沿伸
2. 行盒不能设置宽高
调整行盒的宽高，一个使用字体大小，行高，字体类型，间接调整。
3. 内边距(填充区)
水平方向有效，垂直方向仅会影响背景，不会实际占据空间。
4. 边框
水平方向有效，垂直方向不会实际占据空间
5. 外边距
水平方向有效，垂直方向不会实际占据空间。
例a标签用padding值来实现高宽的变化

### 行块盒
display:inline-block的盒子

1. 不独占一行
2. 盒模型中所有尺寸都有效

### 可替换元素和非可替换元素
大部分元素，页面上显示的结果，取决于元素内容，称为**非可替换元素**
少部分元素，页面上显示的结果，取决于元素属性，称为**可替换元素**
可替换元素：img，video，audio
绝大部分可替换元素均为行盒。
可替换元素类似于行块盒，盒模型中所有尺寸都有效

## 常规流
盒模型：规定单个盒子的规则

视觉格式化模型（布局规则）：页面中的多个盒子排列规则
视觉格式化模型，大体上将页面中盒子的排列分为三种方式：
1. 常规流
2. 浮动
3. 定位
### 常规流布局
所有元素，默认情况下，都属于常规流布局

总体规则：块盒独占一行，行盒水平依次排列

包含块(containing block)：每个盒子都有它的包含块，包含块决定了盒子活动的排列区域。

绝大部分情况下，盒子的包含块，为其父元素的内容盒

**块盒**
1. 每个块盒的总宽度，必须刚好等于包含块的宽度
宽度的默认值是auto
margin的取值也可以是auto，默认值0
auto：将剩余空间吸收掉
width吸收能力大于margin

若宽度，边框，内边距，外边距计算后，任然有剩余空间，
该剩余空间被margin-right全部吸收

在常规流中，块盒在其包含块中居中，可以定宽，然后左右margin设置为auto(margin:0 auto;)    /行盒居中为text-align:center;
>不定宽margin-left,margin-right为负望外衍生

2. 每个块盒垂直方向上的auto值
height:auto, 适应内容的高度
margin:auto,表示0

3. 百分比取值
padding，宽，margin可以取值为百分比

以上的所有百分比相当于包含块的宽度(无论margin-top，padding)

高度百分比：

- 包含块的高度是否取决于子元素的高度，设置百分比无效
- 包含块的高度不取决于子元素的高度，百分比相对于父元素的高度

4. 上下外边距的合并
两个常规流块盒，上下外边距相邻，会进行合并
两个外边距取最大值。

**CSS基础2**

## 浮动
修改float属性值：
- left：左浮动，元素靠上靠左
- right：右浮动，元素靠上靠右
默认为none

- 浮动盒子在包含块中排列时，会避开常规流盒子

1. 当其元素浮动后，元素必定为块盒(更改display属性为block)
2. 浮动元素的包含块，和常规流一样，为父元素的内容盒


- 浮动盒子在包含块中排列时，会避开常规流块盒(即常规流先排，浮动随后)
- 常规流块盒在排列时，无视浮动盒子(常规流后排也当浮动盒子不存在)
- 行盒在排列时，会避开浮动盒子(环绕图片效果)
如果文字没有在行盒中，浏览器会自动生成一个行盒包裹文字，该行盒叫做匿名行盒子。

盒子尺寸：
- 宽度为auto时，适应内容宽度
- 高度为auto时，常规流一致，适应内容高度
- margin为auto，为0
- 边框，内边距，百分比设置与常规流一样

### 高度坍塌
**根源**:常规流盒子的自动高度，在计算时，不会考虑浮动盒子

>浮动元素一定要小心小心再小心高度坍塌问题,父元素一般都要再加.clearfix

两种方法
```
所有浮动元素下方加空元素div.clearfix
.clearfix{
    clear:both;         /常规流div盒子撑开
}

坍塌父容器加个类选择器.clearfix
.clearfix::after{
    content:"";
    display:block;      /伪元素相对于给坍塌容器添加最后一个元素
    clear:both;
}

```

### 应用场景
- 文字环绕
- 横向排列

## 定位
定位：手动控制元素再包含块中的精准位置
### position属性
- 默认值：static，静态定位(不定位)
- relative:相对定位
- absolute：绝对定位
- fixed：固定定位

> 一个元素只要position的取值不是static，则认为该元素为定位元素

而定位元素会脱离文档流(相对定位除外)
一个脱离了文档流的元素：
- 文档流中的元素摆放摆放时，会忽略脱离了文档流的元素
- 文档流中元素计算自动高度时候，会忽略脱离文档流的元素

### 相对定位relative
不会导致元素脱离文档流，只是让元素在原来位置上进行偏移

css属性设置其位置：
- left
- right
- top
- bottom
盒子的偏移不会对其他盒子造成任何影响。


### 绝对定位absolute
宽度为auto，适应内容
包含块变化：找祖先元素中第一个定位元素，该元素的填充盒为其包含块。若找不到，则它的包含块为(整个网页)**初始化包含块**

给要参照定位的祖先元素加position:relative;  /设置相对定位的主要作用就是为了给绝对定位做包含块
自己则position:absolute;(如没有祖先元素则相对于整个网页绝对定位)

### 固定定位fixed
其他情况和绝对定位完全一样
唯一差别：**包含块不同**(浏览器的可视窗口)
应用方向：导航栏或广告定位

### 定位下的居中
某个方向居中：
1. 定宽(高)
2. 将左右(上下)距离设置为0
3. 将左右(上下)margin设置为auto

绝对定位和固定定位中，margin为auto时，会自动吸收剩余空间

### 多个定位元素你重叠时
堆叠上下文
设置z-index，通常情况下，该值越大，越靠近用户

只有定位元素设置z-index有效
z-index可以是负数，如果是负数，则遇到常规流，浮动元素，则会被覆盖

### 补充
- 绝对定位，固定定位元素一定是块盒
- 绝对定位，固定定位元素一定不是浮动
- 没有外边距合并

## 更多的选择器
### 更多的伪类选择器
1.  a:first-child       /选中a元素，并且a元  素是第一个子元素，要两个同时满足

    a:first-of-type     /选中子元素中第一个a元  素

    a:last-child        /必须是a元素且，必须是  最后一个子元素

    a:last-of-type      /选中子元素中最后一个a  元素

2.  :nth-child()         /选定指定的第几个元素也可n    (even等同于2n，odd等同于2n+1)

    :nth-of-type         /选中指定的子元素中第几个某类型的元素
### 更多的伪元素选择器::
1. first-letter
选中元素中的第一个字母
2. first-line
选中元素中第一行的文字
3. selection
选中被用户框选的文字

## 更多的样式

### 透明度
- opacity，设置的是整个元素的透明，它的取值是0-1(子元素跟着一起透明)
- rgba法，在颜色位置设置alpha通道(精细控制每一块元素是否透明)

### 鼠标
使用cursor设置
cursor:pointer;

### 盒子隐藏

- display:none,不生成盒子
- visibility:hidden,生成盒子，只是从视觉上移除盒子，但盒子仍然占据空间。(js控制达到闪烁效果)



### 背景图
img元素是属于HTML的概念
背景图属于css的概念
1. 当图片属于网页内容时，必须用img元素
2. 当图片仅用于美化页面时，必须使用背景图

css属性：
- background-image:url()      /相对于css文件定位
- background-repeat           /norepeat复写属性默认情况下，背景图会在横坐标和纵坐标中进行重复
- background-size             /预设值，contain,cover类似于object-fit，数值或百分比(控制背景大小)
- background-position         /预设值：left,bottom,right,top,center数值或百分比（雪碧图的取值）
- background-attachment       /fixed控制背景图相对于视口固定
- background-color            /背景图和背景颜色混用


速写属性：background:url(./1.jpg) no-repeat 50% 50%/100% fixed #000;(百分比要求先写位置再写尺寸)

